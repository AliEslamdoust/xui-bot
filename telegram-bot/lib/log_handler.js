var a=require('fs'),b=require('js-yaml'),c=require('path'),d=c.join('/root/telegram-bot/db/config.yaml');let e;try{e=b.load(a.readFileSync(d));f('yamlData and json database were loaded successfully','INFO')}catch(A){f(A,'ERROR')}function f(_,B){try{a.appendFile(c.join(e.log_file),`[${g()}] ${B}: ${_}\n`,C=>{C?setTimeout(()=>{console.log(C);f(C,'ERROR')},500):console.log(_,'See log.txt for full info')})}catch(_a){setTimeout(()=>{console.log(_a);f(_a,'ERROR')},500)}}function g(){let D=new Date();let _b=D.getFullYear();let _c=`${D.getMonth()+1}`.padStart(2,'0');let _d=`${D.getDay()}`.padStart(2,'0');let E=`${D.getHours()}`.padStart(2,'0');let F=`${D.getMinutes()}`.padStart(2,'0');let G=`${D.getSeconds()}`.padStart(2,'0');return`${_b}-${_c}-${_d} ${E}:${F}:${G}`}module.exports={log:f,date:g};
